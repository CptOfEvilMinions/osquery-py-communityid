# Osquery-Py-CommunityID

Osquery is my favorite open-source security tool and Python is my favorite programming language so fusing them together allows us to engineer tools to detect threats. This blog post will build an Osquery-python extension to calculate the CommunityID of a network connection utilizing the Osquery-polylogyx extension pack to monitor network connections. In blog posts to follow, we will correlate network-based events generated by Zeek and host-based events generated by Osquery using the CommunityID. So follow me as your adventure guide on this development journey to make an Osquery extension with osquery-python.

[Creating my first Osquery extension to generate CommunityIDs with Osquery-python on Windows](https://holdmybeersecurity.com/2020/02/11/creating-my-first-osquery-extension-to-generate-communityids-with-osquery-python-on-windows/)



## Local dev
1. `virtualenv -p python3 venv`
1. `source venv/bin/activate`
1. `pip3 install -r requirements.txt`


## References
* [Wikipedia – IPv4](https://en.wikipedia.org/wiki/IPv4)
* [Osquery schema](https://osquery.io/schema/4.1.2)
* [Github – osquery/osquery-python](https://github.com/osquery/osquery-python)
* [Powershell – Set-Content](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/set-content?view=powershell-7)
* [Powershell – Copy-Item](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/copy-item?view=powershell-7)
* [How To Replace Text in a File with PowerShell](https://mcpmag.com/articles/2018/08/08/replace-text-with-powershell.aspx)
* [How To Install Python 3 On Windows 10](https://phoenixnap.com/kb/how-to-install-python-3-windows)
* [SQL introduction for osquery](https://medium.com/uptycs/sql-introduction-for-osquery-2e6c8dff3ee0)
* [Powershell – Stop-Service](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/stop-service?view=powershell-7)
* [DIY: In-house Threat Detection Engineering](https://medium.com/@ateixei/diy-in-house-threat-detection-engineering-73643a0b06f)
